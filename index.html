<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen de Geriatría - Parte 2</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-color: #f1f5f9;
            --primary: #bb86fc;
            --primary-hover: #a370f7;
            --correct: #22c55e;
            --incorrect: #ef4444;
            --accent: #334155;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .main-content {
            width: 100%;
            max-width: 800px;
            padding: 20px;
            box-sizing: border-box;
        }

        .quiz-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            border: 1px solid var(--accent);
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
            display: flex;
            flex-direction: column;
            min-height: 500px;
        }

        .q-header {
            margin-bottom: 25px;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 20px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .q-num {
            background: var(--primary);
            color: #000;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 700;
        }

        .score-inline {
            display: flex;
            gap: 15px;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .score-item.c { color: var(--correct); }
        .score-item.i { color: var(--incorrect); }

        .q-text {
            font-size: 1.3rem;
            font-weight: 600;
            line-height: 1.4;
            display: block;
        }

        .options-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex: 1;
        }

        .option {
            background: rgba(255,255,255,0.03);
            border: 1px solid var(--accent);
            padding: 18px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .option:hover {
            background: rgba(255,255,255,0.07);
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .option.correct-choice {
            background: rgba(34, 197, 94, 0.15) !important;
            border-color: var(--correct) !important;
            color: var(--correct);
            pointer-events: none;
        }

        .option.wrong-choice {
            background: rgba(239, 68, 68, 0.15) !important;
            border-color: var(--incorrect) !important;
            color: var(--incorrect);
            pointer-events: none;
        }

        .option.reveal {
            border: 2px dashed var(--correct);
        }

        .prefix {
            font-weight: 800;
            color: var(--primary);
            min-width: 25px;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 35px;
            gap: 15px;
        }

        .btn {
            padding: 14px 28px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-weight: 700;
            transition: 0.2s;
            background: var(--accent);
            color: white;
            flex: 1;
        }

        .btn:hover:not(:disabled) {
            filter: brightness(1.2);
        }

        .btn:disabled {
            opacity: 0.2;
            cursor: not-allowed;
        }

        .btn-primary {
            background: var(--primary);
            color: #000;
        }

        .progress-bar-bg {
            height: 4px;
            background: var(--accent);
            margin-top: 20px;
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--primary);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>

<div class="main-content">
    <div class="quiz-container">
        <div id="quizBox">
            <!-- Contenido dinámico -->
        </div>

        <div class="nav-buttons">
            <button class="btn" id="prevBtn" onclick="changeQuestion(-1)">Anterior</button>
            <button class="btn btn-primary" id="nextBtn" onclick="changeQuestion(1)">Siguiente</button>
        </div>

        <div class="progress-bar-bg">
            <div class="progress-bar-fill" id="progressBar"></div>
        </div>
    </div>
</div>

<script>
    const questions = [
        { id: 2, q: "Señala la respuesta CORRECTA. Según la clasificación de personas mayores para la ordenación de los servicios sanitarios. Persona mayor sana es:", options: ["Son personas cuyas características físicas, mentales y sociales están de acuerdo con su edad social.", "Son personas cuyas características físicas, mentales y sociales están de acuerdo con su edad mental.", "Son personas cuyas características físicas, mentales y sociales están de acuerdo con su edad cronológica.", "Son personas mayores de 65 años sin ninguna enfermedad."], correct: 2 },
        { id: 3, q: "Necesitamos una clasificación de las personas mayores para optimizar la atención sanitaria. Los pacientes geriátricos:", options: ["Son pacientes ancianos con 75 años y algún requisito más como enfermedad incapacitante.", "Son todos los pacientes mayores de 80 años que tienen pluripatología.", "Son pacientes que además de pluripatología tengan problemas mentales.", "Son pacientes ancianos con cualquier edad que cumplan tres requisitos característicos."], correct: 3 },
        { id: 4, q: "Es INCIERTO que los rasgos de personalidad en la ancianidad: (menos una):", options: ["Cuando hay alteraciones de personalidad en ancianos se benefician mucho de la atención psiquiátrica especializada.", "Tras la crisis existencial de la cuarta década se favorecen generalmente alteraciones patológicas en la ancianidad.", "A partir de la edad adulta en la tercera década generalmente se mantiene la personalidad.", "Hay un aumento de las depresiones características de los ancianos independientemente de su personalidad."], correct: 0 },
        { id: 5, q: "El descenso de la tasa de fecundidad en España como factor de envejecimiento NO se caracteriza:", options: ["De lo más bajos de Europa.", "Ha sido muy lento.", "Se explica por retraso de edad de uniones estables.", "Edad de maternidad tardía."], correct: 1 },
        { id: 6, q: "Para la analgesia en ancianos se debe emplear:", options: [
            "Opiáceos menores.", "Siempre morfina.", "Opiáceos mayores.", "Una combinación de ellos según el caso."], correct: 3 },
        { id: 7, q: "Señala incorrecta. La geriatría es una ciencia multidisciplinar que necesita la participación de profesionales sanitarios:", 
         options: ["Trabajador social.", "Psicólogo.", "Médico.", "Enfermero."], correct: 1 },
        { id: 9, q: "¿Cuál es la situación actual y futura de los cuidados de ancianos?", options: ["Los cuidados son dados por profesionales formados específicamente.", "Se cuida por bien espiritual u obligación moral.", "Los ancianos son abandonados por la supervivencia del grupo.", "Se cuida bajo preceptos legislados por leyes antiguas."], correct: 0 },
        { id: 11, q: "Para prevenir o actuar en alteraciones de la necesidad de respirar: (SEÑALAR LA FALSA):", options: ["Procurar actividad física moderada.", "Correcta ingesta de líquidos.", "Recomendar ambientes adecuados.", "Aconsejar el tabaco.", "Evitar la obesidad."], correct: 3 },
        { id: 12, q: "En pacientes con SUD se usan derivados opiáceos mayores. ES VERDAD QUE:", options: ["Para convertir dosis de una vía a otra hay una relación numérica.", "La titulación de morfina se realiza solo en unidades especializadas.", "La vía intramuscular es la más usada.", "Para pasar de una vía a otra es necesario empezar desde cero."], correct: 0 },
        { id: 13, q: "Señale la FALSA. Respecto a las teorías sobre el proceso de envejecimiento hay diferentes líneas:", options: ["Teorías bioquímicas y metabólicas.", "Teorías fisiológicas.", "Teorías genéticas.", "Teorías óseas."], correct: 3 },
        { id: 15, q: "Entre los roles del profesional de enfermería en atención geriátrica NO está:", options: ["Docencia y formación.", "Investigación.", "Secretariado de otros profesionales.", "Cuidados y asistencia directa."], correct: 2 },
        { id: 16, q: "Respecto a la persona mayor enferma, señala la contestación FALSA:", options: ["El objetivo que perseguimos es rehabilitador.", "Su responsabilidad recae exclusivamente en la atención especializada.", "El objetivo que perseguimos es preventivo.", "El objetivo que perseguimos es asistencial."], correct: 1 },
        { id: 17, q: "Señala la respuesta INCORRECTA. La mujer tiene mayor vulnerabilidad por:", options:
            ["Menor poder económico.", "Menor capacidad física.", "Mayor carga de enfermedades crónicas.", "Rol social de ama de casa."], correct: 1 },
        { id: 18, q: "Sobre las demandas por negligencias en UPP:", options: ["Las UPP son inevitables por lo que las demandas se sobreseen.", "Las demandas se deben a mala praxis en tratamiento y prevención.", "Las UPP son prevenibles siempre por lo que siempre hay negligencia.", "Las demandas no pueden ser por falta de registros."], correct: 1 },
        { id: 20, q: "Señala la respuesta CORRECTA sobre principios generales de la geriatría:", options: ["Envejecer es lo mismo que enfermar.", "El anciano es un adulto mayor.", "La geriatría es la medicina interna del anciano.", "Todas son falsas."], correct: 3 },
        { id: 21, q: "Respecto a la gerontología, es INCORRECTO:", options: ["Estudia al hombre desde todos sus aspectos.", "Su desarrollo como ciencia es reciente.", "El peso de su estudio recae en la medicina.", "Estudia el proceso de envejecimiento del hombre."], correct: 2 },
        { id: 23, q: "Entre las AVD-B (Básicas) NO está:", options: ["Desplazarse.", "Bañarse y vestirse.", "Comer.", "Comunicarse."], correct: 3 },
        { id: 22, q: "Para prevenir caídas en el domicilio, NO CORRESPONDE:", options: ["La hipertensión ortostática es causa frecuente.", "El uso de absorbentes nocturnos está indicado para prevenir caídas.", "Fármacos psicotrópicos aumentan la frecuencia de caídas.", "Debemos adaptar el hogar para su habitabilidad."], correct: 1 }
    ];

    let currentIdx = 0;
    let correctCount = 0;
    let incorrectCount = 0;
    let userAnswers = new Array(questions.length).fill(null);

    function renderQuestion() {
        const q = questions[currentIdx];
        const box = document.getElementById('quizBox');
        
        box.innerHTML = `
            <div class="q-header">
                <div class="header-top">
                    <div class="q-num">Pregunta ${currentIdx + 1} de ${questions.length}</div>
                    <div class="score-inline">
                        <span class="score-item c">Aciertos: ${correctCount}</span>
                        <span class="score-item i">Errores: ${incorrectCount}</span>
                    </div>
                </div>
                <span class="q-text">${q.id}. ${q.q}</span>
            </div>
            <div class="options-group" id="optionsGroup"></div>
        `;

        const group = document.getElementById('optionsGroup');
        q.options.forEach((opt, oIdx) => {
            const div = document.createElement('div');
            div.className = 'option';
            
            if (userAnswers[currentIdx] !== null) {
                if (oIdx === q.correct) div.classList.add('correct-choice');
                if (userAnswers[currentIdx] === oIdx && oIdx !== q.correct) div.classList.add('wrong-choice');
                if (userAnswers[currentIdx] !== q.correct && oIdx === q.correct) div.classList.add('reveal');
                div.style.pointerEvents = 'none';
            }

            div.innerHTML = `<span class="prefix">${String.fromCharCode(97 + oIdx)})</span> <span>${opt}</span>`;
            div.onclick = () => selectOption(oIdx);
            group.appendChild(div);
        });

        document.getElementById('prevBtn').disabled = currentIdx === 0;
        document.getElementById('nextBtn').innerText = currentIdx === questions.length - 1 ? 'Finalizar' : 'Siguiente';
        
        const progress = ((currentIdx + 1) / questions.length) * 100;
        document.getElementById('progressBar').style.width = `${progress}%`;
    }

    function selectOption(oIdx) {
        if (userAnswers[currentIdx] !== null) return;

        userAnswers[currentIdx] = oIdx;
        const isCorrect = oIdx === questions[currentIdx].correct;

        if (isCorrect) correctCount++;
        else incorrectCount++;

        renderQuestion();
    }

    function changeQuestion(step) {
        const newIdx = currentIdx + step;
        if (newIdx >= 0 && newIdx < questions.length) {
            currentIdx = newIdx;
            renderQuestion();
        }
    }

    renderQuestion();
</script>

</body>
</html>
